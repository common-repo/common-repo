# TOML Merge Test Fixtures
# This repo provides test fixtures for TOML merge operations

- include:
    - "*.toml"

# Test 1: Basic merge at root level
- toml:
    source: fragment-basic.toml
    dest: destination-basic.toml
    path: ""

# Test 2: Merge dependencies in Cargo.toml
- toml:
    source: fragment-deps.toml
    dest: Cargo.toml
    path: dependencies

# Test 3: Append to array
# Note: path targets the parent table (workspace), and source contains the array key (members)
# This allows array appending to work with TOML's requirement for table-rooted documents
- toml:
    source: fragment-members.toml
    dest: workspace.toml
    path: workspace
    append: true

# Test 4: Merge with comment preservation
- toml:
    source: fragment-with-comments.toml
    dest: destination-with-comments.toml
    path: package
    preserve-comments: true
