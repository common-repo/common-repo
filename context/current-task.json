{
  "task": "json-merge-integration-tests",
  "plan": "context/merge-operator-testing-plan.json",
  "instructions": "Write JSON merge integration tests using the testdata fixtures. Tests should verify all 5 JSON merge scenarios (basic_root_merge, package_dependencies, array_insert_start, array_insert_end, nested_object_replace).",
  "context": {
    "infrastructure_complete": true,
    "utilities_file": "tests/integration_merge_common.rs",
    "available_helpers": {
      "fixture_loading": [
        "setup_fixture_dir(fixtures::JSON) - copies merge-json-repo fixtures to temp dir",
        "fixture_path(fixture_name) - returns absolute path to fixture directory"
      ],
      "cli_execution": [
        "run_apply(&temp, None) - runs common-repo apply, returns ApplyResult",
        "run_apply_expect_success(&temp, None) - runs apply, panics on failure"
      ],
      "json_assertions": [
        "parse_json(&temp, path) - parses JSON file to serde_json::Value",
        "assert_json_contains(&temp, path, key, expected) - checks root-level key",
        "assert_json_nested(&temp, path, json_path, expected) - checks nested path",
        "assert_json_array_order(&temp, path, json_path, key, expected_order) - checks array ordering"
      ],
      "generic_assertions": [
        "read_file(&temp, path) - reads file as string",
        "file_exists(&temp, path) - checks if file exists",
        "assert_file_contains(&temp, path, expected) - checks file contains string"
      ]
    },
    "test_pattern": "Use #[cfg_attr(not(feature = \"integration-tests\"), ignore)] on each test",
    "fixtures_location": "tests/testdata/merge-json-repo/"
  },
  "parallel_tasks": [
    "toml-merge-integration-tests",
    "ini-merge-integration-tests",
    "markdown-merge-integration-tests"
  ],
  "completed_tasks": ["yaml-merge-integration-tests"],
  "notes": "Priority 2 tasks can run in parallel. JSON tests should follow the same pattern as YAML tests."
}
